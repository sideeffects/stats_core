{% extends "base.html" %}
{{ request.session.name }}
{% load googlecharts %}
{% block internalbody %}
      
    <div class="graph-title">Breakdown of Labs Users who subscribed for Maya or Unity plugin
    </div>
    <div>
    <br>
     <span> &nbsp;&nbsp;&nbsp;&nbsp; Total number of answers: {{ count_total }} </span>   
    </div>
    <div id="series_user_answers_maya_unity" class="wide graph"></div>
    <br>
    
    <div id="series_user_answers_maya_unity_over_time" class="wide graph"></div>
            
    {% googlecharts %}
    
        {% data series.user_answers_maya_unity_count "count1" %}
         {% col "string" "Date" %}"{{ val }}"{% endcol %}
         {% col "number" "Maya" %}{{ val }}{% endcol %}
         {% col "number" "Unity" %}{{ val }}{% endcol %}
        {% enddata %}
        
        {% data series.user_answers_maya_unity_over_time "count2" %}
            {% col "string" "Date" %}"{{ val|date:date_format }}"{% endcol %}
            {% col "number" "Maya" %}{{ val }}{% endcol %}
            {% col "number" "Unity" %}{{ val }}{% endcol %}
        {% enddata %}
        
        options = {
            backgroundColor: "#f9f9f9",
            colors: ["#09f","#66CC33", "#CC0000"],
            gridlineColor: "#ddd",
            legend: "none",
            vAxis: {minValue: 0, maxValue: {{ count_total }} },
            chartArea: {left: 40, top: 20, width: 240, height: 180},
            width: 300,
            height: 240
        };

    options_wide = _clone(options);
    options_wide.chartArea.width = 880;
    options_wide.width = 940;
    
    options_with_legend = _clone(options_wide);
    options_with_legend.legend =  {position: 'in', alignment: 'center',textStyle: {color: 'black', fontSize: 12}}
    
    {% options "opt_count" %}
        kind: "ColumnChart",
        options: options
    {% endoptions %}

    {% options "opt_count_wide" %}
        kind: "ColumnChart",
        options: options_wide
    {% endoptions %}
    
    {% options "opt_count_with_legend" %}
       kind: "LineChart",
       options: options_with_legend
    {% endoptions %}
        
    {% graph "series_user_answers_maya_unity" "count1" "opt_count" %}
    {% graph "series_user_answers_maya_unity_over_time" "count2" "opt_count_with_legend" %}           
               
    {% endgooglecharts %}

 {% endblock internalbody %}   

