{% extends "base.html" %}
{{ request.session.name }}
{% load googlecharts %}
{% block internalbody %}
      
    {% if active_menu_option_pair.0 == "sidefx_labs" %}
     <div class="graph-title">Breakdown of Labs Users who subscribed for Maya or Unity plugin
     </div>
     <div>
      <br>
      <span> &nbsp;&nbsp;&nbsp;&nbsp; Total number of answers: {{ count_total }} </span>   
     </div>
     <div id="series_user_answers_maya_unity" class="wide graph"></div>
     <br>
     <div id="series_user_answers_maya_unity_over_time" class="wide graph"></div>
    
    {% else %}
      {% if active_menu_option_pair.0 == "apprentice_followup" %}
        {% for key,value in series.questions_and_total_counts.items %}
           <div class="graph-title"> {{ value.text }} </div>
           <div>
           <br>
           <span> &nbsp;&nbsp;&nbsp;&nbsp; Total number of answers: {{ value.count }} </span>   
           </div>
           <br>
           <div id="series_user_answers_apprentice_{{forloop.counter}}"></div>
           <br>
           
        {% endfor %}
        
      {% endif%} 
    {% endif %}  
      
    {% googlecharts %}
    
     options = {
            backgroundColor: "#f9f9f9",
            colors: ["#09f","#66CC33", "#CC0000"],
            gridlineColor: "#ddd",
            legend: "none",
            vAxis: {minValue: 0 },
            chartArea: {left: 40, top: 20, width: 240, height: 180},
            width: 300,
            height: 240
        };

    options_wide = _clone(options);
    options_wide.chartArea.width = 880;
    options_wide.width = 940;
    
    options_with_legend = _clone(options_wide);
    options_with_legend.legend =  {position: 'in', alignment: 'center',textStyle: {color: 'black', fontSize: 12}}
    
    {% options "opt_count" %}
        kind: "ColumnChart",
        options: options
    {% endoptions %}

    {% options "opt_count_wide" %}
        kind: "ColumnChart",
        options: options_wide
    {% endoptions %}
    
    {% options "opt_count_with_legend" %}
       kind: "LineChart",
       options: options_with_legend
    {% endoptions %}
    
    {% options "out_options" %}
                kind: "PieChart",
                options: {
                        width: 600,
                        height: 480
                }
    {% endoptions %}
        
      {% if active_menu_option_pair.0 == "sidefx_labs" %}
            {% data series.user_answers_maya_unity_count "count1" %}
	           {% col "string" "3D Tool" %}"{{ val }}"{% endcol %}
	           {% col "number" "# of users registered" %}{{ val }}{% endcol %}
	           {% col "number" "# of users registered" %}{{ val }}{% endcol %}
	        {% enddata %}
	        
	        {% data series.user_answers_maya_unity_over_time "count2" %}
	           {% col "string" "Date" %}"{{ val|date:date_format }}"{% endcol %}
	           {% col "number" "Maya" %}{{ val }}{% endcol %}
	           {% col "number" "Unity" %}{{ val }}{% endcol %}
	        {% enddata %}
	        {% graph "series_user_answers_maya_unity" "count1" "opt_count" %}
            {% graph "series_user_answers_maya_unity_over_time" "count2" "opt_count_with_legend" %}  
	        
	  {% else %}
        {% if active_menu_option_pair.0 == "apprentice_followup" %}
		      {% data series.answer_1 "count1" %}
	             {% col "string" "Answer" %}"{{ val }}"{% endcol %}
	             {% col "number" "# of users that selected this choice" %}{{ val }}{% endcol %}
	          {% enddata %}
	          {% graph "series_user_answers_apprentice_1" "count1" "out_options" %}
	          
	          {% data series.answer_2 "count2" %}
                 {% col "string" "Answer" %}"{{ val }}"{% endcol %}
                 {% col "number" "# of users that selected this choice" %}{{ val }}{% endcol %}
              {% enddata %}
              {% graph "series_user_answers_apprentice_2" "count2" "out_options" %}
              
              {% data series.answer_3 "count3" %}
                 {% col "string" "Answer" %}"{{ val }}"{% endcol %}
                 {% col "number" "# of users that selected this choice" %}{{ val }}{% endcol %}
              {% enddata %}
              {% graph "series_user_answers_apprentice_3" "count3" "out_options" %}
              
              {% data series.answer_4 "count4" %}
                 {% col "string" "Answer" %}"{{ val }}"{% endcol %}
                 {% col "number" "# of users that selected this choice" %}{{ val }}{% endcol %}
              {% enddata %}
              {% graph "series_user_answers_apprentice_4" "count4" "out_options" %}
              
              {% data series.answer_5 "count5" %}
                 {% col "string" "Answer" %}"{{ val }}"{% endcol %}
                 {% col "number" "# of users that selected this choice" %}{{ val }}{% endcol %}
              {% enddata %}
              {% graph "series_user_answers_apprentice_5" "count5" "out_options" %}
           
        {% endif%}     
      {% endif %}
   
   {% endgooglecharts %}
 {% endblock internalbody %}   

